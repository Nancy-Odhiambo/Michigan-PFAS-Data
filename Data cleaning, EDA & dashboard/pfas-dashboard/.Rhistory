textInput("search", label = NULL, placeholder = "Search...")
)
),
# Section output
uiOutput("section_ui")
)
server <- function(input, output, session) {
selected_section <- reactive({ input$nav_section })
filtered_data <- reactive({
req(input$search)
# Placeholder for future filtering logic
NULL
})
output$section_ui <- renderUI({
req(selected_section())
switch(selected_section(),
"overview" = tagList(
HTML(markdownToHTML(text = paste(readLines("www/README.md"), collapse = "\n"), fragment.only = TRUE))
),
"metrics" = tagList(
h3("ðŸ“Š Metrics and Tables"),
dataTableOutput("summary_table")
),
"eda" = tagList(
h3("ðŸ” Exploratory Data Analysis"),
plotOutput("eda_plot"),
leafletOutput("eda_map")
),
"hazard" = tagList(
h3("âš ï¸ Hazard Index Analysis"),
plotOutput("hazard_plot")
),
"keytakeaways" = tagList(
h3("ðŸ“ Key Takeaways & Insights"),
tags$ul(
tags$li("Sites exceeding PFAS thresholds require urgent attention."),
tags$li("Certain regions show consistent high-risk profiles."),
tags$li("Regulatory measures can prioritize hotspot areas for remediation.")
)
)
)
})
output$summary_table <- renderDataTable({
public_max_full %>%
select(System.Name, Contaminant, Result.Value, Sample.Date) %>%
head(20)
})
output$eda_plot <- renderPlot({
ggplot(surface_water_long, aes(x = Sample.Date, y = Result.Value, color = Analyte)) +
geom_line() +
labs(title = "Surface Water PFAS Trends", x = "Date", y = "Concentration (ppt)") +
theme_minimal()
})
output$eda_map <- renderLeaflet({
leaflet(pfas_sites) %>%
addTiles() %>%
addCircleMarkers(~Longitude, ~Latitude, popup = ~Site.Name, radius = 5, color = "red")
})
output$hazard_plot <- renderPlot({
ggplot(public_water_max_2, aes(x = reorder(System.Name, -Hazard.Index), y = Hazard.Index)) +
geom_col(fill = "darkorange") +
coord_flip() +
labs(title = "Hazard Index by Public Water System", x = "System", y = "Hazard Index") +
theme_minimal()
})
}
# Run the Shiny app
library(shiny)
shinyApp(ui, server)
#| include: false
library(shiny)
library(DT)
library(ggplot2)
library(dplyr)
library(leaflet)
library(markdown)
# Load PFAS datasets
# EDA datasets
surface_water_long <- read.csv("surface_water_long.csv")
surface_max_full <- read.csv("surface_max_full.csv")
surface_water_dictionary <- read.csv("surface_water_dictionary.csv")
clean_surface_water_dictionary <- read.csv("clean_surface_water_dictionary.csv")
public_water_long <- read.csv("public_water_long.csv")
public_max_full <- read.csv("public_max_full.csv")
clean_public_water_dictionary <- read.csv("clean_public_water_dictionary.csv")
pfas_sites <- read.csv("pfas_sites.csv")
pfas_sites_descriptions <- read.csv("pfas_sites_descriptions.csv")
# Hazard Index datasets
surface_water_long_2 <- read.csv("surface_water_long_2.csv")
surface_water_dictionary_2 <- read.csv("surface_water_dictionary_2.csv")
public_water_long_2 <- read.csv("public_water_long_2.csv")
public_water_wide_2 <- read.csv("public_water_wide_2.csv")
public_water_max_2 <- read.csv("public_water_max_2.csv")
public_water_max_long_2 <- read.csv("public_water_max_long_2.csv")
pfas_sites_2 <- read.csv("pfas_sites_2.csv")
ui <- fluidPage(
tags$head(
tags$link(rel = "stylesheet", type = "text/css", href = "styles.css"),
tags$script(HTML("
document.addEventListener('DOMContentLoaded', function () {
document.querySelectorAll('[data-section]').forEach(link => {
link.addEventListener('click', function (e) {
e.preventDefault();
const section = this.getAttribute('data-section');
Shiny.setInputValue('nav_section', section);
});
});
});
"))
),
# Top navigation bar
div(class = "top-bar",
div(class = "nav-left",
tags$a(href = "#", "Overview", `data-section` = "overview"),
tags$a(href = "#", "Metrics", `data-section` = "metrics"),
tags$a(href = "#", "EDA", `data-section` = "eda"),
tags$a(href = "#", "Hazard", `data-section` = "hazard"),
tags$a(href = "#", "Key Takeaways", `data-section` = "keytakeaways")
),
div(class = "nav-right",
textInput("search", label = NULL, placeholder = "Search...")
)
),
# Section output
uiOutput("section_ui")
)
server <- function(input, output, session) {
Reactive value for selected section
#| include: false
library(shiny)
library(DT)
library(ggplot2)
library(dplyr)
library(leaflet)
library(markdown)
# Load PFAS datasets
# EDA datasets
surface_water_long <- read.csv("surface_water_long.csv")
surface_max_full <- read.csv("surface_max_full.csv")
surface_water_dictionary <- read.csv("surface_water_dictionary.csv")
clean_surface_water_dictionary <- read.csv("clean_surface_water_dictionary.csv")
public_water_long <- read.csv("public_water_long.csv")
public_max_full <- read.csv("public_max_full.csv")
clean_public_water_dictionary <- read.csv("clean_public_water_dictionary.csv")
pfas_sites <- read.csv("pfas_sites.csv")
pfas_sites_descriptions <- read.csv("pfas_sites_descriptions.csv")
# Hazard Index datasets
surface_water_long_2 <- read.csv("surface_water_long_2.csv")
surface_water_dictionary_2 <- read.csv("surface_water_dictionary_2.csv")
public_water_long_2 <- read.csv("public_water_long_2.csv")
public_water_wide_2 <- read.csv("public_water_wide_2.csv")
public_water_max_2 <- read.csv("public_water_max_2.csv")
public_water_max_long_2 <- read.csv("public_water_max_long_2.csv")
pfas_sites_2 <- read.csv("pfas_sites_2.csv")
ui <- fluidPage(
tags$head(
tags$link(rel = "stylesheet", type = "text/css", href = "styles.css"),
tags$script(HTML("
document.addEventListener('DOMContentLoaded', function () {
document.querySelectorAll('[data-section]').forEach(link => {
link.addEventListener('click', function (e) {
e.preventDefault();
const section = this.getAttribute('data-section');
Shiny.setInputValue('nav_section', section);
});
});
});
"))
),
Top navigation bar
#| include: false
library(shiny)
library(DT)
library(ggplot2)
library(dplyr)
library(leaflet)
library(markdown)
# Load PFAS datasets
# EDA datasets
surface_water_long <- read.csv("surface_water_long.csv")
surface_max_full <- read.csv("surface_max_full.csv")
surface_water_dictionary <- read.csv("surface_water_dictionary.csv")
clean_surface_water_dictionary <- read.csv("clean_surface_water_dictionary.csv")
public_water_long <- read.csv("public_water_long.csv")
public_max_full <- read.csv("public_max_full.csv")
clean_public_water_dictionary <- read.csv("clean_public_water_dictionary.csv")
pfas_sites <- read.csv("pfas_sites.csv")
pfas_sites_descriptions <- read.csv("pfas_sites_descriptions.csv")
# Hazard Index datasets
surface_water_long_2 <- read.csv("surface_water_long_2.csv")
surface_water_dictionary_2 <- read.csv("surface_water_dictionary_2.csv")
public_water_long_2 <- read.csv("public_water_long_2.csv")
public_water_wide_2 <- read.csv("public_water_wide_2.csv")
public_water_max_2 <- read.csv("public_water_max_2.csv")
public_water_max_long_2 <- read.csv("public_water_max_long_2.csv")
pfas_sites_2 <- read.csv("pfas_sites_2.csv")
ui <- fluidPage(
tags$head(
tags$link(rel = "stylesheet", type = "text/css", href = "styles.css"),
tags$script(HTML("
document.addEventListener('DOMContentLoaded', function () {
document.querySelectorAll('[data-section]').forEach(link => {
link.addEventListener('click', function (e) {
e.preventDefault();
const section = this.getAttribute('data-section');
Shiny.setInputValue('nav_section', section);
});
});
});
"))
),
div(class = "top-bar",
div(class = "nav-left",
tags$a(href = "#", "Overview", data-section = "overview"),
#| include: false
library(shiny)
library(DT)
library(ggplot2)
library(dplyr)
library(leaflet)
library(markdown)
# Load PFAS datasets
# EDA datasets
surface_water_long <- read.csv("surface_water_long.csv")
surface_max_full <- read.csv("surface_max_full.csv")
surface_water_dictionary <- read.csv("surface_water_dictionary.csv")
clean_surface_water_dictionary <- read.csv("clean_surface_water_dictionary.csv")
public_water_long <- read.csv("public_water_long.csv")
public_max_full <- read.csv("public_max_full.csv")
clean_public_water_dictionary <- read.csv("clean_public_water_dictionary.csv")
pfas_sites <- read.csv("pfas_sites.csv")
pfas_sites_descriptions <- read.csv("pfas_sites_descriptions.csv")
# Hazard Index datasets
surface_water_long_2 <- read.csv("surface_water_long_2.csv")
surface_water_dictionary_2 <- read.csv("surface_water_dictionary_2.csv")
public_water_long_2 <- read.csv("public_water_long_2.csv")
public_water_wide_2 <- read.csv("public_water_wide_2.csv")
public_water_max_2 <- read.csv("public_water_max_2.csv")
public_water_max_long_2 <- read.csv("public_water_max_long_2.csv")
pfas_sites_2 <- read.csv("pfas_sites_2.csv")
ui <- fluidPage(
tags$head(
tags$link(rel = "stylesheet", type = "text/css", href = "styles.css"),
tags$script(HTML("
document.addEventListener('DOMContentLoaded', function () {
document.querySelectorAll('[data-section]').forEach(link => {
link.addEventListener('click', function (e) {
e.preventDefault();
const section = this.getAttribute('data-section');
Shiny.setInputValue('nav_section', section);
});
});
});
"))
),
# Top navigation bar
div(class = "top-bar",
div(class = "nav-left",
tags$a(href = "#", "Overview", `data-section` = "overview"),
tags$a(href = "#", "Metrics", `data-section` = "metrics"),
tags$a(href = "#", "EDA", `data-section` = "eda"),
tags$a(href = "#", "Hazard", `data-section` = "hazard"),
tags$a(href = "#", "Key Takeaways", `data-section` = "keytakeaways")
),
div(class = "nav-right",
textInput("search", label = NULL, placeholder = "Search...")
)
),
# Section output
uiOutput("section_ui")
)
server <- function(input, output, session) {
selected_section <- reactive({ input$nav_section })
filtered_data <- reactive({
req(input$search)
NULL  # Placeholder for future search logic
})
output$summary_table <- renderDataTable({
datatable(public_max_full)
})
output$eda_plot <- renderPlot({
ggplot(surface_water_long, aes(x = SampleDate, y = Concentration, color = PFAS)) +
geom_line() +
theme_minimal() +
labs(title = "Surface Water PFAS Trends", x = "Date", y = "Concentration (ppt)")
})
output$eda_map <- renderLeaflet({
leaflet(pfas_sites) %>%
addTiles() %>%
addCircleMarkers(~Longitude, ~Latitude, popup = ~SiteName, radius = 5, color = "red")
})
output$hazard_plot <- renderPlot({
ggplot(public_water_max_long_2, aes(x = Location, y = HazardIndex, fill = PFAS)) +
geom_bar(stat = "identity", position = "dodge") +
theme_minimal() +
labs(title = "Hazard Index by Location", x = "Location", y = "Hazard Index")
})
output$section_ui <- renderUI({
req(selected_section())
switch(selected_section(),
"overview" = tagList(
includeMarkdown("www/README.md")
),
"metrics" = tagList(
h3("ðŸ“Š Metrics and Tables"),
dataTableOutput("summary_table")
),
"eda" = tagList(
h3("ðŸ” Exploratory Data Analysis"),
plotOutput("eda_plot"),
leafletOutput("eda_map")
),
"hazard" = tagList(
h3("âš ï¸ Hazard Index Analysis"),
plotOutput("hazard_plot")
),
"keytakeaways" = tagList(
h3("ðŸ“ Key Takeaways & Insights"),
tags$ul(
tags$li("Sites exceeding PFAS thresholds require urgent attention."),
tags$li("Certain regions show consistent high-risk profiles."),
tags$li("Regulatory measures can prioritize hotspot areas for remediation.")
)
)
)
})
}
# Run the Shiny app
library(shiny)
shinyApp(ui, server)
#| include: false
library(shiny)
library(DT)
library(ggplot2)
library(dplyr)
library(leaflet)
library(markdown)
# Load PFAS datasets
# EDA datasets
surface_water_long <- read.csv("surface_water_long.csv")
surface_max_full <- read.csv("surface_max_full.csv")
surface_water_dictionary <- read.csv("surface_water_dictionary.csv")
clean_surface_water_dictionary <- read.csv("clean_surface_water_dictionary.csv")
public_water_long <- read.csv("public_water_long.csv")
public_max_full <- read.csv("public_max_full.csv")
clean_public_water_dictionary <- read.csv("clean_public_water_dictionary.csv")
pfas_sites <- read.csv("pfas_sites.csv")
pfas_sites_descriptions <- read.csv("pfas_sites_descriptions.csv")
# Hazard Index datasets
surface_water_long_2 <- read.csv("surface_water_long_2.csv")
surface_water_dictionary_2 <- read.csv("surface_water_dictionary_2.csv")
public_water_long_2 <- read.csv("public_water_long_2.csv")
public_water_wide_2 <- read.csv("public_water_wide_2.csv")
public_water_max_2 <- read.csv("public_water_max_2.csv")
public_water_max_long_2 <- read.csv("public_water_max_long_2.csv")
pfas_sites_2 <- read.csv("pfas_sites_2.csv")
ui <- fluidPage(
tags$head(
tags$link(rel = "stylesheet", type = "text/css", href = "styles.css"),
tags$script(HTML("
document.addEventListener('DOMContentLoaded', function () {
document.querySelectorAll('[data-section]').forEach(link => {
link.addEventListener('click', function (e) {
e.preventDefault();
const section = this.getAttribute('data-section');
Shiny.setInputValue('nav_section', section);
});
});
});
"))
),
# Top navigation bar
div(class = "top-bar",
div(class = "nav-left",
tags$a(href = "#", "Overview", `data-section` = "overview"),
tags$a(href = "#", "Metrics", `data-section` = "metrics"),
tags$a(href = "#", "EDA", `data-section` = "eda"),
tags$a(href = "#", "Hazard", `data-section` = "hazard"),
tags$a(href = "#", "Key Takeaways", `data-section` = "keytakeaways")
),
div(class = "nav-right",
textInput("search", label = NULL, placeholder = "Search...")
)
),
# Section output
uiOutput("section_ui")
)
#| include: false
library(shiny)
library(DT)
library(ggplot2)
library(dplyr)
library(leaflet)
library(markdown)
# Load PFAS datasets
# EDA datasets
surface_water_long <- read.csv("surface_water_long.csv")
surface_max_full <- read.csv("surface_max_full.csv")
surface_water_dictionary <- read.csv("surface_water_dictionary.csv")
clean_surface_water_dictionary <- read.csv("clean_surface_water_dictionary.csv")
public_water_long <- read.csv("public_water_long.csv")
public_max_full <- read.csv("public_max_full.csv")
clean_public_water_dictionary <- read.csv("clean_public_water_dictionary.csv")
pfas_sites <- read.csv("pfas_sites.csv")
pfas_sites_descriptions <- read.csv("pfas_sites_descriptions.csv")
# Hazard Index datasets
surface_water_long_2 <- read.csv("surface_water_long_2.csv")
surface_water_dictionary_2 <- read.csv("surface_water_dictionary_2.csv")
public_water_long_2 <- read.csv("public_water_long_2.csv")
public_water_wide_2 <- read.csv("public_water_wide_2.csv")
public_water_max_2 <- read.csv("public_water_max_2.csv")
public_water_max_long_2 <- read.csv("public_water_max_long_2.csv")
pfas_sites_2 <- read.csv("pfas_sites_2.csv")
ui <- fluidPage(
tags$head(
tags$link(rel = "stylesheet", type = "text/css", href = "styles.css"),
tags$script(HTML("
document.addEventListener('DOMContentLoaded', function () {
document.querySelectorAll('[data-section]').forEach(link => {
link.addEventListener('click', function (e) {
e.preventDefault();
const section = this.getAttribute('data-section');
Shiny.setInputValue('nav_section', section);
});
});
});
"))
),
# Top navigation bar
div(class = "top-bar",
div(class = "nav-left",
tags$a(href = "#", "Overview", `data-section` = "overview"),
tags$a(href = "#", "Metrics", `data-section` = "metrics"),
tags$a(href = "#", "EDA", `data-section` = "eda"),
tags$a(href = "#", "Hazard", `data-section` = "hazard"),
tags$a(href = "#", "Key Takeaways", `data-section` = "keytakeaways")
),
div(class = "nav-right",
textInput("search", label = NULL, placeholder = "Search...")
)
),
# Section output
uiOutput("section_ui")
)
# Run the Shiny app
library(shiny)
shinyApp(ui, server)
#| include: false
library(shiny)
library(DT)
library(ggplot2)
library(dplyr)
library(leaflet)
library(markdown)
# Load PFAS datasets
# EDA datasets
surface_water_long <- read.csv("surface_water_long.csv")
surface_max_full <- read.csv("surface_max_full.csv")
surface_water_dictionary <- read.csv("surface_water_dictionary.csv")
clean_surface_water_dictionary <- read.csv("clean_surface_water_dictionary.csv")
public_water_long <- read.csv("public_water_long.csv")
public_max_full <- read.csv("public_max_full.csv")
clean_public_water_dictionary <- read.csv("clean_public_water_dictionary.csv")
pfas_sites <- read.csv("pfas_sites.csv")
pfas_sites_descriptions <- read.csv("pfas_sites_descriptions.csv")
# Hazard Index datasets
surface_water_long_2 <- read.csv("surface_water_long_2.csv")
surface_water_dictionary_2 <- read.csv("surface_water_dictionary_2.csv")
public_water_long_2 <- read.csv("public_water_long_2.csv")
public_water_wide_2 <- read.csv("public_water_wide_2.csv")
public_water_max_2 <- read.csv("public_water_max_2.csv")
public_water_max_long_2 <- read.csv("public_water_max_long_2.csv")
pfas_sites_2 <- read.csv("pfas_sites_2.csv")
ui <- fluidPage(
tags$head(
tags$link(rel = "stylesheet", type = "text/css", href = "styles.css"),
tags$script(HTML("
document.addEventListener('DOMContentLoaded', function () {
document.querySelectorAll('[data-section]').forEach(link => {
link.addEventListener('click', function (e) {
e.preventDefault();
const section = this.getAttribute('data-section');
Shiny.setInputValue('nav_section', section);
});
});
});
"))
),
# Top navigation bar
div(class = "top-bar",
div(class = "nav-left",
tags$a(href = "#", "Overview", `data-section` = "overview"),
tags$a(href = "#", "Metrics", `data-section` = "metrics"),
tags$a(href = "#", "EDA", `data-section` = "eda"),
tags$a(href = "#", "Hazard", `data-section` = "hazard"),
tags$a(href = "#", "Key Takeaways", `data-section` = "keytakeaways")
),
div(class = "nav-right",
textInput("search", label = NULL, placeholder = "Search...")
)
),
# Section output
uiOutput("section_ui")
)
shinyApp(ui, server)
system("quarto check")
setwd("/Users/nancyodhiambo/Library/CloudStorage/OneDrive-GrandValleyStateUniversity/Projects/Michigan_PFAS/Data cleaning, EDA & dashboard/pfas-dashboard")
getwd()  # verify
quarto::quarto_render_site()
install.packages("quarto")
library(quarto)
quarto_render_site()
